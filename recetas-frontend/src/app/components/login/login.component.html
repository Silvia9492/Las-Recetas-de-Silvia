<div class="login-container">
  <div class="row justify-content-center align-items-center min-vh-100">
    <div class="col-md-5 col-lg-4">
      <mat-card class="login-card fade-in">
        <mat-card-content>
          <div class="text-center mb-4">
            <i class="fas fa-utensils fa-3x text-primary mb-3"></i>
            <h2 class="fw-bold">Las Recetas de Silvia</h2>
            <p class="text-muted" *ngIf="!errorMessage">Inicia sesión para continuar</p>
            <p class="text-danger" *ngIf="errorMessage">{{ errorMessage }}</p>
          </div>

          <form (ngSubmit)="onSubmit()" #loginForm="ngForm">
            <mat-form-field appearance="fill" class="w-100 mb-3">
              <mat-label>Usuario</mat-label>
              <input matInput
                     type="text"
                     name="username"
                     [(ngModel)]="credentials.username"
                     placeholder="Nombre de usuario"
                     required
                     autocomplete="username">
              <mat-icon matSuffix>person</mat-icon>
            </mat-form-field>

            <mat-form-field appearance="fill" class="w-100 mb-4">
              <mat-label>Contraseña</mat-label>
              <input matInput
                     type="password"
                     name="password"
                     [(ngModel)]="credentials.password"
                     placeholder="Contraseña"
                     required
                     autocomplete="current-password">
              <mat-icon matSuffix>lock</mat-icon>
            </mat-form-field>

            <div class="d-grid mb-3">
              <button mat-flat-button color="primary" class="btn-lg w-100"
                      [disabled]="isLoading || !loginForm.valid">
                <ng-container *ngIf="!isLoading">
                  <i class="fas fa-sign-in-alt me-2"></i>Iniciar Sesión
                </ng-container>
                <ng-container *ngIf="isLoading">
                  <mat-progress-spinner diameter="20" mode="indeterminate"></mat-progress-spinner>
                  Iniciando sesión...
                </ng-container>
              </button>
            </div>

            <div class="text-center">
              <p class="mb-0">
                ¿Aún no tienes cuenta? 
                <a routerLink="/register" class="text-decoration-none fw-bold registerLink">
                  ¡Regístrate!
                </a>
              </p>
            </div>
          </form>
        </mat-card-content>
      </mat-card>
    </div>
  </div>
</div>